/*
 * oled lcd.c
 *
 * Created: 24-02-2020 18:10:18
 * Author : jeet
 */ 
#define F_CPU 16000000UL

#include <avr/io.h>
#include <stdio.h>
#include "uart.c"
#include "oled.c"

static int uart_putchar(char c, FILE *stream);
static FILE mystdout = FDEV_SETUP_STREAM(uart_putchar, NULL,_FDEV_SETUP_WRITE);

static int uart_putchar(char c, FILE *stream)
{
	if (c == '\n')
	uart_putchar('\r', stream);
	loop_until_bit_is_set(UCSR0A, UDRE0);
	UDR0 = c;
	return 0;
}

int main(void)
{

static const uint8_t bitmap[] PROGMEM = {
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b01111111,0b11111111,0b11111111,0b11111110,0b00000000,0b00000000,
  0b00000000,0b00000011,0b11111111,0b11111111,0b11111111,0b11111111,0b11000000,0b00000000,
  0b00000000,0b00001111,0b11111111,0b11111111,0b11111111,0b11111111,0b11110000,0b00000000,
  0b00000000,0b00001111,0b11111111,0b11111111,0b11111111,0b11111111,0b11110000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11110111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11110001,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11110000,0b01111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00111111,0b11111111,0b11110000,0b00011111,0b11111111,0b11111100,0b00000000,
  0b00000000,0b00111111,0b11111111,0b11110000,0b00001111,0b11111111,0b11111100,0b00000000,
  0b00000000,0b00111111,0b11111111,0b11110000,0b00000011,0b11111111,0b11111100,0b00000000,
  0b00000000,0b00111111,0b11111111,0b11110000,0b00000011,0b11111111,0b11111100,0b00000000,
  0b00000000,0b00111111,0b11111111,0b11110000,0b00001111,0b11111111,0b11111100,0b00000000,
  0b00000000,0b00111111,0b11111111,0b11110000,0b00011111,0b11111111,0b11111100,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11110000,0b01111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11110001,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11110111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00011111,0b11111111,0b11111111,0b11111111,0b11111111,0b11111000,0b00000000,
  0b00000000,0b00001111,0b11111111,0b11111111,0b11111111,0b11111111,0b11110000,0b00000000,
  0b00000000,0b00001111,0b11111111,0b11111111,0b11111111,0b11111111,0b11110000,0b00000000,
  0b00000000,0b00000011,0b11111111,0b11111111,0b11111111,0b11111111,0b11000000,0b00000000,
  0b00000000,0b00000000,0b01111111,0b11111111,0b11111111,0b11111110,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
};
	UART_Initialize();
	stdout = &mystdout;
	OLED_Initialize();
	//OLED_PrintTextSlow("JEET LODA",2);
	int8_t outline[10][2] = {{0,0},{0,127},{63,127},{63,0},{0,0}};
	//int8_t paddle1[10][2] =	{{25,25},{12,64},{45,45},{9,43},{25,25}};
	//int8_t paddle2[10][2] = {{25,25},{12,64},{45,45},{9,43},{25,25}};
	//OLED_DrawPolygon(outline,4);
	//OLED_DrawFilledPolygon(paddle1,4);
	//OLED_DrawFilledPolygon(paddle2,4);
	
	while (1)
	{

	}
	
}

